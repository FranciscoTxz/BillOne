<div class="progress-bar">
  <div
    class="step"
    [class.active]="currentStep >= 1"
    [class.completed]="currentStep > 1"
  >
    <div class="circle">1</div>
    <p>Datos Servicio</p>
  </div>
  <div
    class="step"
    [class.active]="currentStep >= 2"
    [class.completed]="currentStep > 2"
  >
    <div class="circle">2</div>
    <p>Datos Fiscales</p>
  </div>
  <div
    class="step"
    [class.active]="currentStep >= 3"
    [class.completed]="currentStep > 3"
  >
    <div class="circle">3</div>
    <p>Confirmar Datos</p>
  </div>
  <div
    class="step"
    [class.active]="currentStep >= 4"
    [class.completed]="currentStep > 4"
  >
    <div class="circle">4</div>
    <p>Facturas Emitidas</p>
  </div>
  <div class="step cancel-btn" (click)="showCancelModal()">
    <div class="circle">X</div>
    <p>Cancelar</p>
  </div>
</div>

<!-- Contenido dinámico según el paso actual -->
<div class="content content-process">
  <ng-container *ngIf="currentStep === 1">

      <ng-container *ngIf="currentStepDatosServicio === 1">
        <app-datos-servicio class="comp-datos"></app-datos-servicio>
        <button mat-fab extended class="custom-button btn-first" (click)="nextStepDatosServicio()">
          CONTINUAR
        </button>
      </ng-container>
    
    <ng-container *ngIf="currentStepDatosServicio === 2">
      <app-datos-servicio-p2 class="comp-datos"></app-datos-servicio-p2>
      <button mat-fab extended class="custom-button btn-second" (click)="nextStepDatosServicio()">
        DATOS FISCALES
      </button>
    </ng-container>

  </ng-container>
  <ng-container *ngIf="currentStep === 2">
    <app-datos-fiscales></app-datos-fiscales>
    <button (click)="nextStep()">Seguir</button>
  </ng-container>
  <ng-container *ngIf="currentStep === 3">
    <app-confirmar-datos></app-confirmar-datos>
    <button (click)="nextStep()">Seguir</button>
  </ng-container>
  <ng-container *ngIf="currentStep === 4">
    <app-facturas-emitidas></app-facturas-emitidas>
    <button (click)="nextStep()">Seguir</button>
  </ng-container>
</div>

<!-- Modal para confirmar cancelación -->
<div class="modal" *ngIf="showModal">
  <div class="modal-content">
    <p>¿Está seguro de que desea cancelar?</p>
    <div class="modal-buttons">
      <button (click)="cancel()">Sí</button>
      <button (click)="closeModal()">No</button>
    </div>
  </div>
</div>

